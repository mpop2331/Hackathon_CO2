const _isProjection = target => target && target.query && target.query._target

const resolveViews = (target, views_ = []) => {
  if (_isProjection(target)) {
    views_.push(target)
    return resolveViews(target.query._target, views_)
  }

  return target
}

module.exports = resolveViews
